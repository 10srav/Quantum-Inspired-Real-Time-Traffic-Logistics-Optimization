# =============================================================================
# Quantum Traffic Optimizer - Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment.
# Never commit .env files to version control!
# =============================================================================

# =========================
# Application Settings
# =========================

# Application name (displayed in UI and logs)
APP_NAME=Quantum Traffic Optimizer

# Application version
APP_VERSION=1.0.0

# Enable debug mode (set to False in production)
DEBUG=False

# Environment: development, staging, production, testing
ENVIRONMENT=development

# =========================
# Server Settings
# =========================

# Server host (0.0.0.0 to accept external connections)
HOST=0.0.0.0

# Server port
PORT=8000

# Number of worker processes (ignored when RELOAD=True)
WORKERS=4

# Enable auto-reload for development
RELOAD=False

# =========================
# API Settings
# =========================

# API prefix for versioning
API_PREFIX=/api/v1

# Maximum number of deliveries per optimization request
MAX_DELIVERIES=20

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Maximum routes to keep in memory cache
MAX_CACHED_ROUTES=100

# =========================
# Security Settings
# =========================

# JWT secret key - MUST change this in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=CHANGE-THIS-IN-PRODUCTION-USE-SECURE-KEY

# JWT algorithm
JWT_ALGORITHM=HS256

# Access token expiration (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration (days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# Enable API key authentication
API_KEYS_ENABLED=False

# Valid API keys (comma-separated)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
VALID_API_KEYS=

# =========================
# Rate Limiting
# =========================

# Enable rate limiting
RATE_LIMIT_ENABLED=True

# Maximum requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Maximum requests per hour per IP
RATE_LIMIT_PER_HOUR=1000

# =========================
# CORS Settings
# =========================

# Allowed CORS origins (comma-separated)
# Use specific origins in production, never "*"
CORS_ORIGINS=http://localhost:3000,http://localhost:8501

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=True

# =========================
# Database Settings
# =========================

# Enable database persistence
DATABASE_ENABLED=False

# PostgreSQL connection URL
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/quantum_traffic

# Connection pool size
DATABASE_POOL_SIZE=20

# Maximum overflow connections
DATABASE_MAX_OVERFLOW=10

# Connection recycle time (seconds)
DATABASE_POOL_RECYCLE=3600

# =========================
# Redis Settings
# =========================

# Enable Redis caching
REDIS_ENABLED=False

# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Redis key prefix
REDIS_PREFIX=qto:

# Default cache TTL (seconds)
CACHE_TTL=3600

# =========================
# OSM/Graph Settings
# =========================

# Vijayawada bounding box
BBOX_SOUTH=16.50
BBOX_NORTH=16.55
BBOX_WEST=80.62
BBOX_EAST=80.68

# OSM graph cache directory
OSM_CACHE_DIR=./data

# Use cached OSM graph
OSM_USE_CACHE=True

# Use synthetic demo graph (for testing without OSM)
OSM_DEMO_MODE=False

# =========================
# QAOA/Optimization Settings
# =========================

# Number of QAOA layers
QAOA_LAYERS=3

# QAOA optimization timeout (seconds)
QAOA_TIMEOUT=5.0

# Random seed for reproducibility
QAOA_SEED=42

# Use QAOA in API (slower but potentially better results)
USE_QAOA_IN_API=False

# =========================
# Traffic Settings
# =========================

# Traffic speed multipliers
TRAFFIC_LOW_MULTIPLIER=1.0
TRAFFIC_MEDIUM_MULTIPLIER=1.5
TRAFFIC_HIGH_MULTIPLIER=2.5

# Default speed (km/h)
DEFAULT_SPEED_KMH=30.0

# =========================
# Monitoring Settings
# =========================

# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Sentry traces sample rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=text

# Enable Prometheus metrics
METRICS_ENABLED=True

# Metrics endpoint path
METRICS_PATH=/metrics

# =========================
# Feature Flags
# =========================

# Enable WebSocket endpoints
FEATURE_WEBSOCKET_ENABLED=True

# Enable map HTML generation
FEATURE_MAP_GENERATION=True

# Enable async optimization (background processing)
FEATURE_ASYNC_OPTIMIZATION=False
